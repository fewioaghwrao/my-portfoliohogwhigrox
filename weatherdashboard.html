<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>天気ダッシュボード（Weather Dashboard）｜ポートフォリオ</title>
  <meta name="description" content="都市の天気検索・お気に入り登録・PDF出力・会員管理ができる Next.js 製 Webアプリケーション「天気ダッシュボード（Weather Dashboard）」の制作実績ページです。Next.js / Prisma / MySQL / Heroku を用いて個人開発しました。">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css" />
  <meta name="robots" content="noindex,nofollow,noarchive,noimageindex" />
  <meta name="googlebot" content="noindex,nofollow,noarchive,noimageindex" />
  <meta name="referrer" content="no-referrer" />

  <link rel="icon" href="icon/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
  <meta name="theme-color" content="#ffffff">
</head>
<body>

  <!-- ヘッダー（トップページと同じレイアウト想定） -->
  <header class="site-header" id="top">
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="ポートフォリオ トップへ">
        <img src="images/logox.svg" alt="コーディアワークス ロゴ" class="brand__logo-img" width="160" height="48" />
      </a>
      <nav class="nav" aria-label="グローバルナビゲーション">
        <button class="nav__toggle" aria-expanded="false" aria-controls="navList">MENU</button>
        <ul id="navList" class="nav__list">
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#services">Skills</a></li>
          <li><a href="index.html#works">Works</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- メインコンテンツ -->
  <main>

    <!-- Hero / 概要 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h1 class="section__title">天気ダッシュボード（Weather Dashboard）</h1>
        </header>

        <div class="hero__inner hero__inner--detail">
          <div class="hero__copy">
            <p class="hero__lead reveal reveal-delay-1">
              ブラウザ上で都市の<strong>現在の天気と 5 日間予報</strong>を検索・閲覧できる Web アプリケーションです。<br>
              会員登録すると、お気に入り都市の保存・編集、会員情報変更、<br>
              都市別の天気情報を PDF で出力できるようになります。<br>
              管理者は会員一覧の閲覧・検索・並び替え・CSV 出力が可能な
              <strong>会員管理ダッシュボード</strong>を利用できます。
            </p>

            <div class="hero__actions reveal reveal-delay-2">
              <a class="btn" href="https://weather-dashboard-naoki2025-b551ca7a0859.herokuapp.com/auth/login" target="_blank" rel="noopener noreferrer nofollow">
                デモサイトを見る
              </a>
              <a class="btn btn--ghost" href="https://github.com/fewioaghwrao/Weather_Dashboard" target="_blank" rel="noopener noreferrer nofollow">
                GitHub リポジトリ
              </a>
            </div>

            <p class="hero__note reveal reveal-delay-3">
              ※デモ環境は Heroku（JawsDB MySQL）上で動作しています。<br class="only-sp">
              初回アクセス時はスリープ解除のため数十秒ほど時間がかかる場合があります。<br>
              ※天気情報の取得には OpenWeatherMap API を使用しています。
            </p>

            <div class="hero__note hero__note--sub reveal reveal-delay-3">
              <h2 class="h3">テスト用アカウント</h2>
              <p class="mb-1"><strong>一般会員</strong><br>
                ユーザーID：user@example.com／パスワード：Test1234
              </p>
              <p><strong>管理者</strong><br>
                ユーザーID：admin@example.com／パスワード：Test1234
              </p>
              <p class="mt-1">
                ※テスト用アカウントの情報はポートフォリオ検証用です。個人情報は含みません。
              </p>
            </div>
          </div>

          <figure class="hero__image reveal reveal-delay-3">
            <img src="images/weather-dashboard-main.png" alt="天気ダッシュボードのトップ画面イメージ">
          </figure>
        </div>
      </div>
    </section>

    <!-- プロジェクト概要 -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">プロジェクト概要</h2>
        </header>

        <div class="project-summary reveal">
          <dl class="summary-list">
            <div class="summary-list__row">
              <dt>開発期間</dt>
              <dd>約 数週間（要件を定め、設計〜実装〜デプロイまで個人で実施）</dd>
            </div>
            <div class="summary-list__row">
              <dt>開発人数</dt>
              <dd>1名（個人開発）</dd>
            </div>
            <div class="summary-list__row">
              <dt>担当範囲</dt>
              <dd>要件整理／画面設計／DB設計（Prisma Schema）／フロントエンド／バックエンド（API）／テスト／デプロイ／ドキュメント</dd>
            </div>
            <div class="summary-list__row">
              <dt>想定ユーザー</dt>
              <dd>天気情報を素早く確認したい一般ユーザー、会員情報を管理する管理者</dd>
            </div>
            <div class="summary-list__row">
              <dt>URL</dt>
              <dd>
                デモサイト：
                <a href="https://weather-dashboard-naoki2025-b551ca7a0859.herokuapp.com/auth/login" target="_blank" rel="noopener noreferrer nofollow">
                  https://weather-dashboard-naoki2025-b551ca7a0859.herokuapp.com/auth/login
                </a>
                <br>
                GitHub：
                <a href="https://github.com/fewioaghwrao/Weather_Dashboard" target="_blank" rel="noopener noreferrer nofollow">
                  https://github.com/fewioaghwrao/Weather_Dashboard
                </a>
              </dd>
            </div>
          </dl>
        </div>
      </div>
    </section>

    <!-- 使用技術 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">使用技術</h2>
        </header>

        <div class="grid cards">
          <article class="card reveal">
            <h3 class="card__title">フロントエンド / SSR</h3>
            <ul class="card__list">
              <li>Next.js 14（App Router）</li>
              <li>React / TypeScript</li>
              <li>Server Components / Client Components の併用</li>
              <li>Tailwind CSS によるスタイリング</li>
              <li>レスポンシブレイアウト（スマートフォン対応）</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-1">
            <h3 class="card__title">バックエンド / API</h3>
            <ul class="card__list">
              <li>Next.js Route Handlers による API 実装</li>
              <li>Prisma ORM（スキーマ定義・マイグレーション）</li>
              <li>OpenWeatherMap API 連携</li>
              <li>天気情報の JSON キャッシュ（WeatherCache テーブル）</li>
              <li>会員登録／ログイン／メール認証／パスワードリセット機能</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-2">
            <h3 class="card__title">インフラ・その他</h3>
            <ul class="card__list">
              <li>MySQL（ローカル開発）</li>
              <li>JawsDB MySQL（Heroku アドオン）</li>
              <li>Heroku（Node.js Buildpack によるデプロイ）</li>
              <li>環境変数管理（.env.local / Heroku Config Vars）</li>
              <li>Git / GitHub（ソースコード管理）</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- 画面イメージ -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">画面イメージ</h2>
          <p class="section__lead">
            代表的な画面をいくつか抜粋しています。<br>
            実際の動作はデモサイトからご確認いただけます。
          </p>
        </header>

        <div class="grid works works--detail">
          <figure class="work work--plain reveal">
            <img src="images/weather-dashboard-search.png" alt="都市検索と現在の天気表示画面" />
            <figcaption class="work__meta">
              <span class="work__tag">一般ユーザー</span>
              <h3 class="work__title">天気ダッシュボード（検索 &amp; 現在の天気）</h3>
              <p class="work__text">
                キーワードから都市を検索し、選択した都市の現在の天気を表示します。背景色は天気アイコンに応じて変化し、直感的に天候が分かるようにしています。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-1">
            <img src="images/weather-dashboard-forecast.png" alt="5日間予報の表示画面" />
            <figcaption class="work__meta">
              <span class="work__tag">一般ユーザー</span>
              <h3 class="work__title">5 日間予報</h3>
              <p class="work__text">
                選択した都市について、日別の気温・天気アイコン・簡単な解説を 5 日分表示します。カード形式のレイアウトで、先の天気の見通しを把握しやすくしました。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-2">
            <img src="images/weather-dashboard-favorite.png" alt="お気に入り都市一覧画面" />
            <figcaption class="work__meta">
              <span class="work__tag">一般ユーザー</span>
              <h3 class="work__title">お気に入り都市一覧</h3>
              <p class="work__text">
                よく確認する都市をお気に入りとして保存し、ワンクリックで切り替えられます。お気に入りの追加・解除はダッシュボードから直接操作できるようにしました。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-3">
            <img src="images/weather-dashboard-admin-users.png" alt="管理者向け会員一覧画面" />
            <figcaption class="work__meta">
              <span class="work__tag">管理者</span>
              <h3 class="work__title">管理者ページ（会員一覧・CSV 出力）</h3>
              <p class="work__text">
                会員の一覧・検索・並び替え・詳細編集、および CSV 出力に対応した管理者向け画面です。メールアドレス・氏名・登録日時などで絞り込みできるように設計しています。
              </p>
            </figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- 機能一覧 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">主な機能</h2>
        </header>

        <div class="grid cards">
          <article class="card reveal">
            <h3 class="card__title">一般会員向け機能</h3>
            <ul class="card__list">
              <li>メールアドレス・パスワードによる会員登録・ログイン</li>
              <li>メール認証（検証リンク）による本登録フロー</li>
              <li>都市の検索・一覧表示</li>
              <li>選択都市の現在の天気表示</li>
              <li>5 日間分の天気予報表示</li>
              <li>お気に入り都市の追加・削除</li>
              <li>会員情報編集（氏名／郵便番号／住所／電話番号）</li>
              <li>天気情報の PDF 出力（都市ごとのレポート生成）</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-1">
            <h3 class="card__title">認証・パスワード関連</h3>
            <ul class="card__list">
              <li>メールアドレスとパスワードの組み合わせによる認証</li>
              <li>メールアドレス変更時の重複チェック</li>
              <li>パスワード再設定フロー（メール送信 → トークン付きリンク）</li>
              <li>トークンの有効期限チェックとワンタイム性の担保</li>
              <li>新しいパスワードの設定・保存（バリデーション付き）</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-2">
            <h3 class="card__title">管理者機能（/admin）</h3>
            <ul class="card__list">
              <li>会員一覧表示（ページング対応）</li>
              <li>メールアドレス／氏名などによる検索・絞り込み</li>
              <li>登録日時・氏名などによる並び替え</li>
              <li>会員情報の詳細確認</li>
              <li>会員一覧の CSV 出力</li>
              <li>ログアウト機能</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- アーキテクチャ & DB -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">アーキテクチャ・DB設計</h2>
        </header>

        <div class="grid grid--2col">
          <div class="reveal">
            <h3 class="h3">Next.js App Router 構成</h3>
            <p>
              Next.js 14 の <strong>App Router</strong> を用いて、ページと API を同一プロジェクト内で完結させています。
              画面描画には Server Components をメインで用い、フォーム送信やフィルタリングなど、双方向な操作が必要な箇所で Client Components を利用しています。
            </p>
            <ul class="list">
              <li><code>app/auth/login</code>：ログインページ</li>
              <li><code>app/auth/register</code>：会員登録ページ</li>
              <li><code>app/member/dashboard</code>：天気ダッシュボード</li>
              <li><code>app/member/profile</code>：会員情報編集</li>
              <li><code>app/admin/users</code>：管理者向け会員一覧</li>
              <li><code>app/api/weather/*</code>：天気取得 API（current / forecast など）</li>
              <li><code>app/api/auth/*</code>：認証・メール検証・パスワードリセット用 API</li>
            </ul>

            <pre class="code-block"><code>app/
├─ auth/
│   ├─ login/
│   └─ register/
├─ member/
│   ├─ dashboard/
│   └─ profile/
├─ admin/
│   └─ users/
└─ api/
    ├─ weather/
    │   ├─ current/
    │   └─ forecast/
    └─ auth/
        ├─ login/
        ├─ register/
        └─ reset-password/</code></pre>
          </div>

          <div class="reveal reveal-delay-1">
            <h3 class="h3">主な Prisma モデル・テーブル</h3>
            <ul class="list">
              <li><strong>User</strong>：会員情報（メールアドレス・パスワードハッシュ・氏名・住所など）</li>
              <li><strong>VerificationToken</strong>：メールアドレス検証用トークン</li>
              <li><strong>ResetPasswordToken</strong>：パスワード再設定用トークン</li>
              <li><strong>City</strong>：都市マスタ（都市名・都道府県・国コードなど）</li>
              <li><strong>WeatherCache</strong>：天気情報キャッシュ（都市 ID・JSON データ・取得日時）</li>
              <li><strong>FavoriteCity</strong>：ユーザーとお気に入り都市の中間テーブル</li>
            </ul>

            <p class="mt-2">
              WeatherCache には OpenWeatherMap API から取得したレスポンス JSON を保存し、一定時間内の再アクセスではキャッシュを利用することで API 呼び出し回数を抑えています。
            </p>
            <p class="mt-1">
              ER 図は GitHub の <code>docs</code> ディレクトリ、および README に掲載しています。
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 実装上の工夫・セットアップ -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">実装上の工夫・セットアップ</h2>
        </header>

        <div class="grid grid--2col">
          <div class="reveal">
            <h3 class="h3">実装面で意識したポイント</h3>
            <ul class="list">
              <li>天気 API のレスポンスを WeatherCache に保存し、一定時間内はキャッシュから返すことでレスポンス速度と API 利用回数を最適化</li>
              <li>Next.js App Router と Route Handlers を活用し、フロントと BFF（Backend for Frontend）を同一コードベースで管理</li>
              <li>Tailwind CSS を用いたコンポーネント指向のスタイリングで、天気アイコンに応じた背景色やカードデザインを統一</li>
              <li>フォーム送信時のバリデーションとエラーメッセージ表示（必須チェック／形式チェックなど）</li>
              <li>メール検証・パスワードリセットにおけるトークンの有効期限管理とセキュリティ（存在しない／期限切れトークンのハンドリング）</li>
              <li>都市ごとの PDF レポート出力機能（印刷レイアウトを意識したシンプルなデザイン）</li>
            </ul>
          </div>

          <div class="reveal reveal-delay-1">
            <h3 class="h3">開発環境構築・動作確認</h3>
            <p class="mb-1">ローカル環境での起動手順を README にまとめています。</p>
            <ol class="list list--ol">
              <li><strong>依存関係インストール</strong><br>
                <code>npm install</code>
              </li>
              <li><strong>.env.local を作成</strong><br>
                <code>DATABASE_URL="mysql://user:pass@localhost:3306/weather_dashboard"</code><br>
                <code>OPENWEATHER_API_KEY="XXXX"</code><br>
                <code>NEXT_PUBLIC_BASE_URL="http://localhost:3000"</code>
              </li>
              <li><strong>Prisma マイグレーション</strong><br>
                <code>npx prisma migrate dev</code>
              </li>
              <li><strong>開発サーバー起動</strong><br>
                <code>npm run dev</code>
              </li>
              <li><strong>ブラウザで確認</strong><br>
                <code>http://localhost:3000</code> にアクセスし、ログイン・天気検索・お気に入り登録などの動作を確認します。
              </li>
            </ol>
            <p class="mt-2">
              Heroku へのデプロイ手順（アプリ作成／JawsDB 追加／環境変数設定／<code>git push heroku main</code>）も README に記載し、
              他者が再現しやすい構成を意識しました。
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 学び・今後の展望 -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">学び・今後の改善予定</h2>
        </header>

        <div class="reveal">
          <h3 class="h3">学び</h3>
          <ul class="list">
            <li>Next.js App Router と Route Handlers を用いたフルスタック開発の一連の流れ</li>
            <li>Prisma を用いた DB スキーマ定義とマイグレーション運用</li>
            <li>外部 API（OpenWeatherMap）との連携とキャッシュ戦略の検討</li>
            <li>メール認証・パスワードリセットを含む認証まわりの実装と UX の設計</li>
            <li>会員管理画面（一覧・検索・CSV 出力）の UI/UX とテーブル設計</li>
          </ul>

          <h3 class="h3 mt-3">今後の改善予定</h3>
          <ul class="list">
            <li>都市マスタの管理画面（管理者が都市候補を追加・編集できる UI）の追加</li>
            <li>日別／時間別の詳細なグラフ表示（気温推移・降水確率など）の拡充</li>
            <li>ユニットテスト・E2E テストの追加による品質向上</li>
            <li>より洗練されたレスポンシブデザイン（モバイルでの操作性向上）</li>
            <li>多言語対応（日本語／英語表示切り替え）</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- リンクまとめ -->
    <section class="section section--cta">
      <div class="container cta reveal">
        <h2 class="section__title">リンク</h2>
        <p class="mb-2">
          ソースコードやセットアップ手順は GitHub の README にまとめています。
        </p>
        <p class="mt-1">
          GitHub リポジトリ：<br>
          <a href="https://github.com/fewioaghwrao/Weather_Dashboard" target="_blank" rel="noopener noreferrer nofollow">
            https://github.com/fewioaghwrao/Weather_Dashboard
          </a>
        </p>
        <p class="mt-2">
          <a class="btn btn--ghost" href="index.html#works">Works 一覧へ戻る</a>
        </p>
      </div>
    </section>
  </main>

  <!-- フッター -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <small>※本ページは検索避け（noindex）設定済み。URLをご存知の方のみの想定公開です。</small>
      <a href="#top" class="to-top" aria-label="ページ上部へ">↑</a>
    </div>
  </footer>

  <!-- スクロールアニメーション & ナビ制御（トップと同様） -->
  <script>
    // スクロールアニメーション
    (function(){
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.querySelectorAll('.reveal').forEach(el => el.classList.add('is-visible'));
        return;
      }
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12 });
      document.querySelectorAll('.reveal').forEach(el => io.observe(el));
    })();

    // モバイルナビゲーション制御
    (function(){
      const toggle = document.querySelector('.nav__toggle');
      const nav = document.querySelector('.nav__list');
      const navLinks = document.querySelectorAll('.nav__list a');

      if (!toggle || !nav) return;

      toggle.addEventListener('click', function() {
        const isOpen = nav.classList.contains('is-open');
        if (isOpen) {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        } else {
          nav.classList.add('is-open');
          toggle.setAttribute('aria-expanded', 'true');
        }
      });

      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        });
      });

      document.addEventListener('click', function(e) {
        if (!nav.contains(e.target) && !toggle.contains(e.target)) {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });
    })();
  </script>
</body>
</html>
